<%- include("partials/header") -%>
<div class="category-form-holder">
    <div class="card shadow detailed-report-card">
        <div class="detailed-header">
            <h3><b> Detailed Stock Report </b></h3>
            <h5><b id="align-right">Report for <%= periodicalDate %> <%= formattedStartDate %> <%= formattedEndDate %></b></h5>
           
            <hr>
        </div>
        <div class="detailed-header">
            <h3 style="text-transform: capitalize;">for <%= ingredient.name %></h3>
            <i>Generated on <span id="current_date"></span></i>  
        </div>
        <hr>         
        <table id="report-table" class="table table-striped" style="margin-top: 1rem;" data-order='[[ 4, "desc" ]]' data-page-length='10'>
            <thead>
            <tr id="report-tr">
                <th scope="col" style="text-align:center">Type</th>
                <th scope="col" style="text-align:center">Variant</th>
                <th scope="col" style="text-align:center">Quantity</th>
                <th scope="col" style="text-align:center">Unit</th>
                <th scope="col" style="text-align:center">Date</th>
                <th scope="col" style="text-align:center">Done By</th>
            </tr>
            </thead>
            <tbody>
            <% for (var i = 0; i < qtyPurchase.length;  i++ ) { %>
                <tr>
                    <td>
                        Purchased
                    </td>
                    <td>
                        <%= variantPurchase[i] %>
                    </td>
                    <td>
                        <%= qtyPurchase[i] %>
                    </td>
                    <td>
                        <%= unitPurchase[i] %>
                    </td>
                    <td>
                        <%= datePurchase[i] %>
                    </td>
                    <td>
                        <%= doneByPurchase[i] %>
                    </td>
                </tr>
            <% } %>
            <% for (var i = 0; i < qtyDiscard.length;  i++ ) { %>
                <tr>
                    <td>
                        Discard
                    </td>
                    <td>
                        <%= variantDiscard[i] %>
                    </td>
                    <td>
                        <%= qtyDiscard[i] %>
                    </td>
                    <td>
                        <%= unitDiscard[i] %>
                    </td>
                    <td>
                        <%= dateDiscard[i] %>
                    </td>
                    <td>
                        <%= doneByDiscard[i] %>
                    </td>
                </tr>
            <% } %>
            <% for (var i = 0; i < qtyMismatch.length;  i++ ) { %>
                <tr>
                    <td>
                        Mismatch
                    </td>
                    <td>
                        N/A
                    </td>
                    <td>
                        <%= qtyMismatch[i] %>
                    </td>
                    <td>
                        <%= unitMismatch[i] %>
                    </td>
                    <td>
                        <%= dateMismatch[i] %>
                    </td>
                    <td>
                        <%= doneByMismatch[i] %>
                    </td>
                </tr>
            <% } %>
            <% for (var i = 0; i < qtyConsumed.length;  i++ ) { %>
                <tr>
                    <td>
                        Consumed
                    </td>
                    <td>
                        N/A
                    </td>
                    <td>
                        <%= qtyConsumed[i] %>
                    </td>
                    <td>
                        <%= unitConsumed[i] %>
                    </td>
                    <td>
                        <%= dateConsumed[i] %>
                    </td>
                    <td>
                        <%= doneByConsumed[i] %>
                    </td>
                </tr>
            <% } %>
            </tbody>
        </table>
    </div>

</div> 


<script src="/js/calendarCustom.js"></script>
<script src="/js/reportDataTable.js"></script>
<%- include("partials/footer") -%>